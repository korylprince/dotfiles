" vim: ft=vim

set nocompatible
filetype off

set rtp+=~/.vim/bundle/Vundle.vim
call vundle#begin()

Plugin 'gmarik/Vundle.vim'

Plugin 'fatih/vim-go'
Plugin 'saltstack/salt-vim'
Plugin 'ingydotnet/yaml-vim'
Plugin 'groenewege/vim-less'
Plugin 'hail2u/vim-css3-syntax'
Plugin 'ap/vim-css-color'
Plugin 'Glench/Vim-Jinja2-Syntax'
Plugin 'plasticboy/vim-markdown'
Plugin 'mattn/emmet-vim'
Plugin 'scrooloose/syntastic'
Plugin 'davidhalter/jedi-vim'
Plugin 'marijnh/tern_for_vim'
Plugin 'scrooloose/nerdtree'
Plugin 'majutsushi/tagbar'
Plugin 'kien/rainbow_parentheses.vim'
Plugin 'tpope/vim-surround'
Plugin 'xolox/vim-misc'
Plugin 'xolox/vim-easytags'
Plugin 'Shougo/neocomplete.vim'

call vundle#end()
filetype plugin indent on

let vim_markdown_folding_disabled=1

"syntax check
let syntastic_enable_signs=1
set statusline=%#warningmsg#
set statusline+=%{SyntasticStatuslineFlag()}
set statusline+=%*
let syntastic_always_populate_loc_list = 1
let syntastic_auto_loc_list = 1

"don't syntax check by default
let syntastic_mode_map = { 'mode': 'passive',
            \ 'active_filetypes': [],
            \ 'passive_filetypes': [] }

"don't freak about about angular attrs
let syntastic_html_tidy_ignore_errors=[" proprietary attribute \"ng-"]


"fix the rainbows
source ~/.vim/colors
au VimEnter * RainbowParenthesesToggle

"easytags
set tags+=~/.vimtags

function! ToggleSyntasticErrors()
    let old_last_winnr = winnr('$')
    SyntasticReset
    SyntasticToggleMode
    if old_last_winnr == winnr('$')
        " Nothing was closed, open syntastic error location panel
        SyntasticCheck
        SyntasticToggleMode
    endif
endfunction

"golang info
au FileType go nmap <Leader>i <Plug>(go-info)

"enable neocomplete
let g:neocomplete#enable_at_startup = 1

"function mappings
nnoremap <F2> :NERDTreeToggle<cr>
nnoremap <F3> :TagbarToggle<cr>
nnoremap <F4> :RainbowParenthesesToggleAll<cr>
nnoremap <F5> :call ToggleSyntasticErrors()<cr>
autocmd BufNewFile,BufRead *.go nnoremap <F12> :!go run %<cr>

filetype plugin indent on
