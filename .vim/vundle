" vim: ft=vim

set nocompatible
filetype off

set rtp+=~/.vim/bundle/Vundle.vim
call vundle#begin()

Plugin 'gmarik/Vundle.vim'

Plugin 'sheerun/vim-polyglot'
Plugin 'fatih/vim-go'
Plugin 'ap/vim-css-color'
Plugin 'mattn/emmet-vim'
Plugin 'marijnh/tern_for_vim'
Plugin 'scrooloose/nerdtree'
Plugin 'majutsushi/tagbar'
Plugin 'bounceme/poppy.vim'
Plugin 'tpope/vim-surround'
Plugin 'tpope/vim-repeat'
Plugin 'xolox/vim-misc'
Plugin 'xolox/vim-easytags'
Plugin 'mdempsky/gocode', {'rtp': 'vim/'}
Plugin 'roxma/nvim-yarp'
Plugin 'roxma/vim-hug-neovim-rpc'
Plugin 'Shougo/deoplete.nvim'
Plugin 'zchee/deoplete-go', { 'do': 'make'}
Plugin 'ervandew/supertab'
Plugin 'Shougo/echodoc.vim'
Plugin 'airblade/vim-gitgutter'
Plugin 'tpope/vim-fugitive'
Plugin 'junegunn/fzf.vim'
Plugin 'vim-airline/vim-airline'
Plugin 'w0rp/ale'
Plugin 'tpope/vim-commentary'
Plugin 'nathanaelkane/vim-indent-guides'
Plugin 'altercation/vim-colors-solarized'

call vundle#end()

"easytags
set tags+=~/.vimtags

"enable deoplete
let g:deoplete#enable_at_startup = 1
set completeopt-=preview

"make enter select completion
inoremap <expr> <CR> pumvisible() ? "\<C-y>" : "\<C-g>u\<CR>"

"supertab normal order
let g:SuperTabDefaultCompletionType = "<c-n>"

"golang info
let g:go_auto_type_info = 1

"goimports on save
let g:go_fmt_command = "goimports"

"turn on better syntax hilighting
let g:go_highlight_types = 1
let g:go_highlight_fields = 1
let g:go_highlight_functions = 1
let g:go_highlight_function_calls = 1
let g:go_highlight_operators = 1

"fix syntax hilighting on vue files
autocmd BufEnter *.vue :syntax sync fromstart

"add special symbols
let g:airline_powerline_fonts = 1

"ale auto open/close location list
let g:ale_open_list = 1
let g:ale_lint_on_save = 1
let g:ale_lint_on_text_changed = 0

"ale html options
let g:ale_html_tidy_options = "--custom-tags yes"

"javascript fix on save
let g:ale_fixers = { 'javascript': ['eslint'], 'vue': ['eslint'] }
let g:ale_fix_on_save = 1

"ale completion
let g:ale_completion_enabled = 1

"integrate ale and airline
let g:airline#extensions#ale#enabled = 1

"integrate ale and gometalinter
let g:ale_linters = {'go': ['gometalinter']}
let g:ale_go_gometalinter_options = "--disable-all -Eerrcheck -Egoconst -Egofmt -Egoimports -Egolint -Egotype -Egotypex -Eineffassign -Emisspell -Evet -Evetshadow"

"solarized theme
syntax on
let g:solarized_termtrans = 1
set background=dark
colorscheme solarized

"rainbows
au! cursormoved * call PoppyInit()

"yaml indentation
au FileType yaml setlocal tabstop=2 expandtab shiftwidth=2 softtabstop=2

"function mappings
nnoremap <F2> :NERDTreeToggle<cr>
nnoremap <F3> :TagbarToggle<cr>
nnoremap <F5> :IndentGuidesToggle<cr>
autocmd BufNewFile,BufRead *.go nnoremap <F12> :GoRun<cr>
autocmd BufNewFile,BufRead *.py nnoremap <F12> :!bpython -i %<cr>
autocmd BufNewFile,BufRead *.sh nnoremap <F12> :!sh %<cr>

filetype plugin indent on
